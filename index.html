<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3-Section Dark Activity Tracker</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', system-ui, sans-serif;
    background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
    min-height: 100vh;
    padding: 10px;
    color: #e0e0e0;
}

.container {
    max-width: 1400px;
    margin: auto;
    background: linear-gradient(145deg, #2a2a2a, #1f1f1f);
    border-radius: 24px;
    overflow: hidden;
    border: 1px solid #404040;
    box-shadow: 0 25px 50px rgba(0,0,0,0.5);
}

/* ================= HEADER ================= */
.header {
    padding: 30px 20px;
    text-align: center;
    background: linear-gradient(135deg, #0f2e23, #1a3c34, #0a331f);
}

.header h1 {
    font-size: 2.2rem;
    font-weight: 800;
}

.current-date {
    margin: 10px 0 20px;
    font-weight: 600;
}

.stats {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}

.stat-item {
    padding: 12px 20px;
    border-radius: 20px;
    background: rgba(255,255,255,0.08);
    font-weight: 700;
}

/* ================= DESKTOP GRID ================= */
.schedule-grid {
    display: grid;
    grid-template-columns: 140px repeat(3, 1fr);
    gap: 4px;
    margin: 30px;
    background: #2a2a2a;
    border-radius: 20px;
    border: 2px solid #505050;
}

.time-header, .time-slot {
    background: linear-gradient(135deg, #1a501e, #0f3a19);
    text-align: center;
    font-weight: 800;
    padding: 22px;
}

.section-header {
    text-align: center;
    font-weight: 800;
    padding: 22px;
}

.working-header { background:#1f5a2a; }
.holiday-header { background:#6a2d7a; }
.sunday-header  { background:#8a2a2a; }

.activity-cell {
    background: #333;
    border: 2px solid #555;
    height: 80px;
    padding: 14px;
}

.activity-input {
    width: 100%;
    height: 100%;
    background: transparent;
    border: none;
    color: #fff;
    font-weight: 700;
}

.activity-input:focus {
    outline: none;
}

/* ================= MOBILE UI ================= */
.mobile-tabs,
.tab-content {
    display: none;
}

.mobile-tabs {
    margin: 0 15px;
}

.tab-buttons {
    display: flex;
    gap: 10px;
}

.tab-btn {
    flex: 1;
    padding: 14px;
    border-radius: 18px;
    border: none;
    background: #444;
    color: #fff;
    font-weight: 700;
    cursor: pointer;
}

.tab-btn.active {
    background: #1f5a2a;
}

.section-title-mobile {
    text-align: center;
    padding: 20px;
    font-weight: 800;
}

.mobile-timeline {
    border: 2px solid #505050;
    border-radius: 0 0 20px 20px;
}

.timeline-item {
    display: flex;
    padding: 14px;
    border-bottom: 1px solid #444;
}

.time-label {
    min-width: 80px;
    text-align: center;
    font-weight: 800;
}

/* ================= CONTROLS ================= */
.controls {
    padding: 30px;
    display: flex;
    justify-content: center;
    gap: 20px;
}

.btn {
    padding: 14px 28px;
    border-radius: 22px;
    border: none;
    font-weight: 800;
    cursor: pointer;
}

/* ================= FIX: HIDE MOBILE ON DESKTOP ================= */
@media (min-width: 769px) {
    .mobile-tabs,
    .tab-content {
        display: none !important;
    }
}

/* ================= MOBILE RESPONSIVE ================= */
@media (max-width: 768px) {
    .schedule-grid {
        display: none;
    }

    .mobile-tabs,
    .tab-content {
        display: block;
    }
}
</style>
</head>

<body>

<div class="container">
    <div class="header">
        <h1>ðŸŒ™ Dark 3-Section Tracker</h1>
        <div id="currentDate" class="current-date"></div>
        <div class="stats">
            <div id="workingStats" class="stat-item">0</div>
            <div id="holidayStats" class="stat-item">0</div>
            <div id="sundayStats" class="stat-item">0</div>
        </div>
    </div>

    <!-- MOBILE TABS -->
    <div class="mobile-tabs">
        <div class="tab-buttons">
            <button class="tab-btn active" data-tab="0">Working</button>
            <button class="tab-btn" data-tab="1">Holiday</button>
            <button class="tab-btn" data-tab="2">Sunday</button>
        </div>
    </div>

    <!-- DESKTOP GRID -->
    <div class="schedule-grid" id="scheduleGrid"></div>

    <!-- MOBILE CONTENT -->
    <div class="tab-content active">
        <div class="section-title-mobile">Working Days</div>
        <div id="mobileTimeline0" class="mobile-timeline"></div>
    </div>
    <div class="tab-content">
        <div class="section-title-mobile">Holidays</div>
        <div id="mobileTimeline1" class="mobile-timeline"></div>
    </div>
    <div class="tab-content">
        <div class="section-title-mobile">Sunday</div>
        <div id="mobileTimeline2" class="mobile-timeline"></div>
    </div>

    <div class="controls">
        <button class="btn" onclick="clearToday()">Clear Today</button>
        <button class="btn" onclick="resetAll()">Reset All</button>
    </div>
</div>

<script>
const timeSlots = [
 '4-5 AM','5-6 AM','6-7 AM','7-8 AM','8-9 AM','9-10 AM',
 '10-11 AM','11-12 PM','12-1 PM','1-2 PM','2-3 PM',
 '3-4 PM','4-5 PM','5-6 PM','6-7 PM','7-8 PM',
 '8-9 PM','9-10 PM','10-11 PM'
];

const sections = ['Working','Holiday','Sunday'];
let data = JSON.parse(localStorage.getItem('tracker')) || {};
let today = new Date().toISOString().split('T')[0];

document.getElementById('currentDate').textContent =
 new Date().toDateString();

function inputCell(sec,time){
 const i=document.createElement('input');
 i.className='activity-input';
 i.value=data[`${today}_${sec}_${time}`]||'';
 i.onblur=()=>{ 
   if(i.value) data[`${today}_${sec}_${time}`]=i.value;
   else delete data[`${today}_${sec}_${time}`];
   localStorage.setItem('tracker',JSON.stringify(data));
   updateStats();
 };
 return i;
}

function initGrid(){
 const g=document.getElementById('scheduleGrid');
 g.innerHTML='';
 g.append('Time',...sections).forEach;
 const th=document.createElement('div');
 th.className='time-header'; th.textContent='Time'; g.append(th);
 sections.forEach((s,i)=>{
  const h=document.createElement('div');
  h.className=`section-header ${i===0?'working-header':i===1?'holiday-header':'sunday-header'}`;
  h.textContent=s; g.append(h);
 });
 timeSlots.forEach(t=>{
  const ts=document.createElement('div');
  ts.className='time-slot'; ts.textContent=t; g.append(ts);
  sections.forEach((_,i)=>{
   const c=document.createElement('div');
   c.className='activity-cell';
   c.appendChild(inputCell(i,t));
   g.append(c);
  });
 });
}

function initMobile(){
 sections.forEach((_,i)=>{
  const tl=document.getElementById(`mobileTimeline${i}`);
  if(!tl) return;
  tl.innerHTML='';
  timeSlots.forEach(t=>{
   const row=document.createElement('div');
   row.className='timeline-item';
   const lbl=document.createElement('div');
   lbl.className='time-label'; lbl.textContent=t;
   const cell=document.createElement('div');
   cell.className='activity-cell';
   cell.appendChild(inputCell(i,t));
   row.append(lbl,cell);
   tl.append(row);
  });
 });
}

function updateStats(){
 let s=[0,0,0];
 Object.keys(data).forEach(k=>{
  if(k.startsWith(today)){
   const idx=+k.split('_')[1];
   s[idx]++;
  }
 });
 workingStats.textContent=s[0];
 holidayStats.textContent=s[1];
 sundayStats.textContent=s[2];
}

function clearToday(){
 Object.keys(data).forEach(k=>{
  if(k.startsWith(today)) delete data[k];
 });
 localStorage.setItem('tracker',JSON.stringify(data));
 initGrid(); initMobile(); updateStats();
}

function resetAll(){
 localStorage.clear(); data={};
 initGrid(); initMobile(); updateStats();
}

document.querySelectorAll('.tab-btn').forEach((b,i)=>{
 b.onclick=()=>{
  document.querySelectorAll('.tab-btn').forEach(x=>x.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(x=>x.classList.remove('active'));
  b.classList.add('active');
  document.querySelectorAll('.tab-content')[i].classList.add('active');
 };
});

initGrid(); initMobile(); updateStats();
</script>

</body>
</html>
